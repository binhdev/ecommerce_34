<% provide :title, t("admin.pages.show_users.title") %>
<h1><%= t "admin.pages.show_users.title" %></h1>
<div class="container-fluid">
  <%= form_tag admin_users_path, method: :get, id: "search_form" do %>
    <div class="row">
      <div class="col-md-6">
        <%= text_field_tag :search, params[:search], {class: "form-control"} %>
      </div>
      <div class="col-md-2">
        <%= submit_tag t("default.search"), {class: "form-control btn-primary"} %>
      </div>
    </div>
  <% end %>
  <table class="table">
    <thead class="thead-inverse">
      <tr>
        <th>#</th>
        <th><%= t("admin.pages.show_users.avatar") %></th>
        <th><%= t("admin.pages.show_users.name") %></th>
        <th><%= t("admin.pages.show_users.email") %></th>
        <th><%= t("admin.pages.show_users.address") %></th>
        <th><%= t("admin.pages.show_users.phone") %></th>
        <th>#</th>
        <th>#</th>
      </tr>
    </thead>
    <tbody>
      <% @users.each_with_index do |user, index| %>
        <tr>
            <td scope="row"><%= (index + 1).to_s %></td>
            <td><%= gravatar_for user, size: Settings.maximum.avatar %></td>
            <td><%= link_to user.name, user %></td>
            <td><%= user.email %></td>
            <td><%= user.address %></td>
            <td><%= user.phone %></td>
            <% if can? :manage, user %>
              <td>
                <%= link_to edit_admin_user_path user do %>
                  <strong class="glyphicon glyphicon-pencil"></strong>
                <% end %></td>
              <td>
                <%= link_to [:admin, user], method: :delete,
                  data: {confirm: t("default.you_sure")} do %>
                  <strong class="glyphicon glyphicon-trash"></strong>
                <% end %>
              </td>
            <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%= will_paginate @users %>
</div>
